"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["68"],{7359:function(e,n,i){i.r(n),i.d(n,{metadata:()=>t,contentTitle:()=>r,default:()=>u,assets:()=>d,toc:()=>c,frontMatter:()=>o});var t=JSON.parse('{"id":"console/iam/sso_adfs","title":"Exemple de f\xe9d\xe9ration d\'identit\xe9 avec Microsoft ADFS","description":"Voici un exemple de configuration du r\xe9f\xe9rentiel d\'authentification d\'une organisation Cloud Temple avec Microsoft ADFS.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/console/iam/sso_adfs.md","sourceDirName":"console/iam","slug":"/console/iam/sso_adfs","permalink":"/docs-content/en/docs/console/iam/sso_adfs","draft":false,"unlisted":false,"editUrl":"https://github.com/aelttil/docs-content/docs/console/iam/sso_adfs.md","tags":[],"version":"current","frontMatter":{"title":"Exemple de f\xe9d\xe9ration d\'identit\xe9 avec Microsoft ADFS"},"sidebar":"docSidebar","previous":{"title":"Exemple de f\xe9d\xe9ration d\'identit\xe9 avec Microsoft EntraID","permalink":"/docs-content/en/docs/console/iam/sso_aad"},"next":{"title":"Metrologie g\xe9n\xe9rale","permalink":"/docs-content/en/docs/console/metrics"}}'),s=i("5893"),a=i("65");let o={title:"Exemple de f\xe9d\xe9ration d'identit\xe9 avec Microsoft ADFS"},r=void 0,d={},c=[{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"Etape 2 : Demander la configuration du SSO (Single Sign-On) de votre organisation",id:"etape-2--demander-la-configuration-du-sso-single-sign-on-de-votre-organisation",level:2},{value:"Etape 3 : R\xe9alisation de la configuration ADFS",id:"etape-3--r\xe9alisation-de-la-configuration-adfs",level:2},{value:"Configuration de la f\xe9d\xe9ration d&#39;authentification",id:"configuration-de-la-f\xe9d\xe9ration-dauthentification",level:3},{value:"Ajout d&#39;une approbation de partie de confiance",id:"ajout-dune-approbation-de-partie-de-confiance",level:4},{value:"Configurer les &quot;claims&quot;",id:"configurer-les-claims",level:3},{value:"Ajouter les claims",id:"ajouter-les-claims",level:3},{value:"Etape 3 : Finalisation",id:"etape-3--finalisation",level:2}];function l(e){let n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",strong:"strong",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Voici un exemple de configuration du r\xe9f\xe9rentiel d'authentification d'une organisation Cloud Temple avec ",(0,s.jsx)(n.strong,{children:"Microsoft ADFS"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"La configuration de votre r\xe9f\xe9rentiel Microsoft au niveau d'une organisation Cloud Temple facilite l'authentification de vos utilisateurs sur la console Shiva.\nCela permet d'\xe9viter la multiplication des facteurs d'authentification et de diminuer la surface d'attaque.\nSi vos utilisateurs sont authentifi\xe9s \xe0 leur compte Microsoft, l'authentification aux services de la console Shiva sera transparente."}),"\n",(0,s.jsx)(n.p,{children:"Voici les diff\xe9rentes \xe9tapes pour r\xe9aliser cette configuration :"}),"\n",(0,s.jsx)(n.h2,{id:"pr\xe9requis",children:"Pr\xe9requis"}),"\n",(0,s.jsxs)(n.p,{children:["Votre serveur Microsoft ADFS doit pouvoir acc\xe9der \xe0 l'url Cloud Temple suivante : ",(0,s.jsx)(n.a,{href:"https://keycloak-shiva.cloud-temple.com/auth/",children:"https://keycloak-shiva.cloud-temple.com/auth/"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["L'ADFS doit pouvoir \xeatre accessible depuis les r\xe9seaux de Cloud Temple et ",(0,s.jsx)(n.strong,{children:"exposer un certificat TLS d'une CA publique"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Les utilisateurs souhaitant se connecter sur le portail doivent avoir leur email, nom et pr\xe9nom renseign\xe9s sur l'Active Directory."}),"\n",(0,s.jsx)(n.h2,{id:"etape-2--demander-la-configuration-du-sso-single-sign-on-de-votre-organisation",children:"Etape 2 : Demander la configuration du SSO (Single Sign-On) de votre organisation"}),"\n",(0,s.jsx)(n.p,{children:"Cette partie de la configuration se fait au niveau de l'organisation par l'\xe9quipe Cloud temple."}),"\n",(0,s.jsxs)(n.p,{children:["Pour se faire, faites ",(0,s.jsx)(n.strong,{children:"une demande d'assistance"})," dans la console indiquant votre souhait de configurer votre r\xe9f\xe9rentiel d'authentification Microsoft ADFS."]}),"\n",(0,s.jsx)(n.p,{children:"Veuillez donner les informations suivantes dans la demande d'assistance :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"    Le nom de votre Organisation\n    Le nom d'un contact avec son mail et n\xb0 de t\xe9l\xe9phone pour finaliser la configuration\n    URL publique des Metadata de la f\xe9d\xe9ration de l'ADFS (<nom de domaine de l'adfs>/FederationMetadata/2007-06/FederationMetadata.xml)\n    (Exemple : https://adfs.test.local/FederationMetadata/2007-06/FederationMetadata.xml)\n"})}),"\n",(0,s.jsx)(n.p,{children:"D\xe8s que la configuration est r\xe9alis\xe9e cot\xe9 console Shiva, le contact indiqu\xe9 sera inform\xe9."}),"\n",(0,s.jsxs)(n.p,{children:["L'\xe9quipe support Cloud Temple vous transmettra une URL qui ressemblera \xe0 celle-ci : ",(0,s.jsx)(n.a,{href:"https://keycloak-shiva.cloud-temple.com/auth/realms/companytest/broker/adfs_test/endpoint/descriptor",children:"https://keycloak-shiva.cloud-temple.com/auth/realms/companytest/broker/adfs_test/endpoint/descriptor"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Vous pouvez coller l'URL dans un navigateur afin de la tester. Si elle fonctionne correctement vous devriez voir s'afficher un XML"})}),"\n",(0,s.jsx)(n.h2,{id:"etape-3--r\xe9alisation-de-la-configuration-adfs",children:"Etape 3 : R\xe9alisation de la configuration ADFS"}),"\n",(0,s.jsx)(n.h3,{id:"configuration-de-la-f\xe9d\xe9ration-dauthentification",children:"Configuration de la f\xe9d\xe9ration d'authentification"}),"\n",(0,s.jsx)(n.h4,{id:"ajout-dune-approbation-de-partie-de-confiance",children:"Ajout d'une approbation de partie de confiance"}),"\n",(0,s.jsxs)(n.p,{children:["Sur votre serveur ADFS, aller dans ",(0,s.jsx)(n.strong,{children:'"Ajouter une approbation de partie de confiance"'}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:i(1838).Z+"",width:"532",height:"279"})}),"\n",(0,s.jsx)(n.h3,{id:"configurer-les-claims",children:'Configurer les "claims"'}),"\n",(0,s.jsx)(n.p,{children:"Les claims permettent de fournir des informations au token qui sera transmis \xe0 la console Cloud Temple."}),"\n",(0,s.jsx)(n.p,{children:"Ils transmettent les informations de l'utilisateur connect\xe9 qui sont n\xe9cessaires au bon fonctionnement des diff\xe9rents services, telles que son email, son nom et pr\xe9nom."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:i(3252).Z+"",width:"714",height:"578"})}),"\n",(0,s.jsx)(n.p,{children:'S\xe9lectionnez "Importer les donn\xe9es, publi\xe9es en ligne ou sur un r\xe9seau local, concernant la partie de confiance" et renseignez l\'URL fournie par le support Cloud Temple.'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:i(370).Z+"",width:"711",height:"580"})}),"\n",(0,s.jsx)(n.p,{children:"Vous pouvez renseigner un nom et une description pour la partie de confiance, cette partie est optionnelle."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:i(1975).Z+"",width:"706",height:"574"})}),"\n",(0,s.jsxs)(n.p,{children:["Par d\xe9faut, nous autorisons tout le monde mais il est possible de s\xe9lectionner ",(0,s.jsx)(n.strong,{children:'"Autoriser un groupe sp\xe9cifique"'})," pour s\xe9lectionner le ou les groupes qui seront autoris\xe9s \xe0 acc\xe9der aux services de la console Shiva via l'ADFS."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:i(6538).Z+"",width:"707",height:"576"})}),"\n",(0,s.jsx)(n.p,{children:"Une fois toutes ces \xe9tapes effectu\xe9es, vous avez termin\xe9 la configuration de la partie de confiance."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:i(4105).Z+"",width:"709",height:"577"})}),"\n",(0,s.jsx)(n.p,{children:"Il faudra ensuite \xe9diter la strat\xe9gie d'\xe9mission de revendication de cette nouvelle partie de confiance."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:i(4397).Z+"",width:"1213",height:"450"})}),"\n",(0,s.jsx)(n.p,{children:'Cliquez sur "Ajouter une r\xe8gle" et sp\xe9cifiez le mod\xe8le, soit "Transformer une revendication entrante".'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:i(9662).Z+"",width:"1244",height:"631"})}),"\n",(0,s.jsx)(n.p,{children:"Vous n'aurez plus qu'\xe0 renseigner les informations telles qu'indiqu\xe9es dans la capture d'\xe9cran ci-dessous."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:i(8445).Z+"",width:"542",height:"584"})}),"\n",(0,s.jsx)(n.h3,{id:"ajouter-les-claims",children:"Ajouter les claims"}),"\n",(0,s.jsx)(n.p,{children:'Ajoutez une seconde r\xe8gle avec, cette fois-ci, le mod\xe8le "Envoyer les attributs LDAP en tant que revendications".'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:i(1183).Z+"",width:"1237",height:"614"})}),"\n",(0,s.jsx)(n.p,{children:"S\xe9lectionnez le magasin d'attributs et ajoutez les attributs \"E-Mail Addresses, Given-Name, Nom et SAM-Account-Name\" comme indiqu\xe9 sur la capture d'\xe9cran ci-dessous."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:i(3002).Z+"",width:"543",height:"578"})}),"\n",(0,s.jsx)(n.p,{children:"Il vous suffit d'appliquer les changements."}),"\n",(0,s.jsx)(n.h2,{id:"etape-3--finalisation",children:"Etape 3 : Finalisation"}),"\n",(0,s.jsxs)(n.p,{children:["vous pouvez d\xe9sormais tester en vous rendant sur la console Shiva et en cliquant sur le bouton correspondant \xe0 l'authentification  ADFS client; dans cet exemple, il s'agit ici de ",(0,s.jsx)(n.strong,{children:'"ADFS Test"'})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:i(8023).Z+"",width:"1096",height:"759"})})]})}function u(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},1838:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/sso_adfs_001-ea2505f4c32f1ad89757f036d0a7304c.png"},3252:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/sso_adfs_002-341a6d382e826fcf8e0eb8e3c63981ac.png"},370:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/sso_adfs_003-97801a926954b2fc6d4ff093a8f6615a.png"},1975:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/sso_adfs_004-0ef8f841e4386a4d710c2b885f1943ad.png"},6538:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/sso_adfs_005-1bab29b84537edd63ecaa0346b57966a.png"},4105:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/sso_adfs_006-7c6ac4d679d40f1bbfec9c99356eb13d.png"},4397:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/sso_adfs_007-a92a67c773bfcb82dcdef4825220e6a7.png"},9662:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/sso_adfs_008-03b78dd6639b8b62168813688a56e437.png"},8445:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/sso_adfs_009-b3f3352b478d9350926ec12d80ee546a.png"},1183:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/sso_adfs_010-ffce68328aa8388cde40abcc9ea19256.png"},3002:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/sso_adfs_011-b538ec1f1d742a17bd1fcd2913f2eaab.png"},8023:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/sso_adfs_012-d8a7aa831564f8e8196ffe8b213c9d33.png"},65:function(e,n,i){i.d(n,{Z:function(){return r},a:function(){return o}});var t=i(7294);let s={},a=t.createContext(s);function o(e){let n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);