<!doctype html><html lang=fr dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-console/api" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.1"><title data-rh=true>Pilotage par API | Documentation Cloud Temple</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://github.com/docs-content/img/docusaurus-social-card.jpg><meta data-rh=true name=twitter:image content=https://github.com/docs-content/img/docusaurus-social-card.jpg><meta data-rh=true property=og:url content=https://github.com/docs-content/docs/console/api/><meta data-rh=true property=og:locale content=fr><meta data-rh=true property=og:locale:alternate content=en><meta data-rh=true name=docusaurus_locale content=fr><meta data-rh=true name=docsearch:language content=fr><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Pilotage par API | Documentation Cloud Temple"><meta data-rh=true name=description content="Clés API"><meta data-rh=true property=og:description content="Clés API"><link data-rh=true rel=icon href=/docs-content/img/favicon.ico><link data-rh=true rel=canonical href=https://github.com/docs-content/docs/console/api/><link data-rh=true rel=alternate href=https://github.com/docs-content/en/docs/console/api/ hreflang=en><link data-rh=true rel=alternate href=https://github.com/docs-content/docs/console/api/ hreflang=fr><link data-rh=true rel=alternate href=https://github.com/docs-content/docs/console/api/ hreflang=x-default><link rel=stylesheet href=/docs-content/assets/css/styles.180585a3.css><script src=/docs-content/assets/js/runtime~main.c59cf96a.js defer></script><script src=/docs-content/assets/js/main.acb6ad39.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Aller au contenu principal"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Aller au contenu principal</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Ouvrir/fermer la barre de navigation" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs-content/><div class=navbar__logo><img src=/docs-content/img/logo.svg alt="Cloud Temple Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs-content/img/logo.svg alt="Cloud Temple Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs-content/docs/home/>Docs</a></div><div class="navbar__items navbar__items--right"><a href=https://github.com/cloud-temple target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>Français</a><ul class=dropdown__menu><li><a href=/docs-content/en/docs/console/api/ rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/docs-content/docs/console/api/ rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=fr>Français</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-label="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Retour au début de la page" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs-content/docs/home/>Bienvenue sur l'espace documentation Cloud Temple.</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs-content/docs/category/console/>Console</a><button aria-label="Réduire la catégorie 'Console' de la barre latérale" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/console/accounts/>Comptes d'accès à la console Shiva</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs-content/docs/console/api/>Pilotage par API</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/console/>Présentation de la console</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/console/howto/>Prise en main étape par étape de la console Shiva</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs-content/docs/console/iam/sso_aad/>iam</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/console/metrics/>Metrologie générale</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/console/orders/>Déployer des ressources</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/console/organisations/>Organisations</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/console/permissions/>Permissions utilisateurs</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/console/status/>Opérations planifiées et gestion des Incidents</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/console/tenants/>Tenants</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs-content/docs/category/getting-started/>Getting Started</a><button aria-label="Réduire la catégorie 'Getting Started' de la barre latérale" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/getting_started/changes/>Suivi des changements</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs-content/docs/category/bastion/>Bastion</a><button aria-label="Développer la catégorie 'Bastion' de la barre latérale" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs-content/docs/category/iaas/>IaaS</a><button aria-label="Réduire la catégorie 'IaaS' de la barre latérale" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/iaas/iaas/>Présentation</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/iaas/concepts/>Concepts</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/iaas/backup/>Sauvegarde</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/iaas/compute/>Calcul</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/iaas/metrics/>Metrologie IaaS</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/iaas/network/>Réseaux</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/iaas/quickstart_iaas/>Automatisation avec Terraform</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/iaas/quickstart_iaas_template/>Déploiement depuis un template</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/iaas/storage/>Stockage</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/iaas/tutorials_iaas/>Comment faire pour ?</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs-content/docs/category/housing/>Housing</a><button aria-label="Réduire la catégorie 'Housing' de la barre latérale" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs-content/docs/housing/>Hébergement physique</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs-content/docs/contract/cgvu/>contract</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs-content/docs/faq/bastion/bastion_faq/>faq</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs-content/docs/network/install_guides/fortinet/forti/>network</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs-content/docs/paas/concepts/>paas</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs-content/docs/privacy/>privacy</a></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Fil d'Ariane"><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Page d'accueil" class=breadcrumbs__link href=/docs-content/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs-content/docs/category/console/><span itemprop=name>Console</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Pilotage par API</span><meta itemprop=position content=2></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">Sur cette page</button></div><div class="theme-doc-markdown markdown"><header><h1>Pilotage par API</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id=clés-api>Clés API<a href=#clés-api class=hash-link aria-label="Lien direct vers Clés API" title="Lien direct vers Clés API">​</a></h2>
<p>La <strong>clé API</strong> permet de s'authentifier lorsque vous souhaitez faire des requêtes sur l'API. La génération d'une clé API, aussi appelée <strong>Personal Access Token (PAT)</strong>,
est une manière sécurisée de se connecter aux API Shiva sans passer par une interface graphique. Chacun de ces tokens est lié à un tenant et à l'utilisateur qui l'a créé.</p>
<p>La création de ce token se fait depuis votre compte. Il est possible de générer plusieurs clés et de configurer pour chacune les autorisations dans la limite de vos droits.</p>
<p>Pour créer une clef API, il suffit de <strong>cliquer sur votre profil</strong> :</p>
<p><img decoding=async loading=lazy src=/docs-content/assets/images/shiva_profil_001-b57aae7f80d02b491c28d6f28c841fe5.png width=284 height=610 class=img_ev3q></p>
<p>Dans le menu du profil, cliquer sur <strong>'Jeton d'accès personnel'</strong></p>
<p><img decoding=async loading=lazy src=/docs-content/assets/images/shiva_profil_003-c22cf40740fb0b42c2bfaa599024a0c4.png width=3096 height=776 class=img_ev3q></p>
<p>Vous avez alors à l'écran l'ensemble des clés API qui ont été créées pour cet utilisateur dans ce tenant. Cliquer sur <strong>'Nouveau access token personnel'</strong></p>
<p><img decoding=async loading=lazy src=/docs-content/assets/images/shiva_profil_002-ba0b519fdc7ded5a3cd56a48e10f4774.png width=1410 height=1840 class=img_ev3q></p>
<p>Vous devez alors :</p>
<ul>
<li>Indiquer le nom de ce nouveau jeton,</li>
<li>Indiquer une date d'expiration (maximum 12 mois de validité),</li>
<li>Choisir les <a href=/docs-content/docs/console/permissions/>permissions associées au jeton</a>.</li>
</ul>
<p>Les détails concernant votre jeton sont alors affichés. <strong>Attention, il n'est plus possible d'y accéder a posteriori.</strong></p>
<p>Si vous ne notez pas ces informations, vous devrez détruire et recréer le jeton.</p>
<p><img decoding=async loading=lazy src=/docs-content/assets/images/shiva_profil_004-5fcbdd5dbb568bb1075c4a7586d0ca93.png width=1236 height=684 class=img_ev3q></p>
<p>Pour une question de sécurité, il est recommandé de créer plusieurs tokens ayant chacun une utilité spécifique (un token pour chaque application ou chaque processus métier) plutôt que de créer 1 token avec l'ensemble des droits.</p>
<p>Vous voyez ensuite le nouveau jeton créé et sa future date d'expiration.</p>
<p><img decoding=async loading=lazy src=/docs-content/assets/images/shiva_profil_005-1c918c3a4ada92a269fd28c20086cc3f.png width=3094 height=892 class=img_ev3q></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=accès-au-portail-api>Accès au portail API<a href=#accès-au-portail-api class=hash-link aria-label="Lien direct vers Accès au portail API" title="Lien direct vers Accès au portail API">​</a></h2>
<p>La documentation OpenAPI 3.0 (Swagger) des APIs de la console Cloud Temple est disponible directement dans l'application :</p>
<p><img decoding=async loading=lazy src=/docs-content/assets/images/shiva_api_001-b558a5fdfea3526e46073d2b3612c713.png width=3052 height=2074 class=img_ev3q></p>
<p>L'accès aux APIs nécessite d'être authentifié. Une fois authentifié toutes les opérations doivent avoir le header
<strong>'Authorization'</strong> avec le bearer access token obtenu lors de la phase d'authentification.</p>
<p>L'URL des points d'accès est directement donnée dans <strong>Swagger</strong> (dans l'objet "Servers" de chaque page APIs).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=les-activités>Les activités<a href=#les-activités class=hash-link aria-label="Lien direct vers Les activités" title="Lien direct vers Les activités">​</a></h2>
<p>Le suivi des requêtes de type écriture (POST, PUT, PATCH, DELETE) est assuré via la gestion des activités. Chaque requête de ce type génère automatiquement une activité associée. Un code de statut HTTP 201 confirme la création réussie de l'activité. L'identifiant unique de cette activité est renvoyé dans les en-têtes de la réponse, sous la clé 'Location'.</p>
<p><img decoding=async loading=lazy src=/docs-content/assets/images/shiva_api_002-55087bc498a97e8e831878bf0d13b9b3.png width=2812 height=724 class=img_ev3q></p>
<p>Une fois l'identifiant récupéré, il est possible d'accéder aux détails de l'activité en utilisant l'API du module Activity :</p>
<p><img decoding=async loading=lazy src=/docs-content/assets/images/shiva_api_003-eb37bdbbd53e99c68a8c15a2de84de7a.png width=2198 height=1772 class=img_ev3q></p>
<p>Le contenu de l'activité inclut toutes les informations essentielles pour identifier l'opération, sa date d'exécution, ainsi que son état d'avancement. Voici le modèle d'une activité :</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "tenantId": "UUIDV4",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "description": "STRING",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "type": "ComputeActivity" | "BackupActivity" | "IAMActivity" | "TagActivity" | "RTMSActivity" | "BastionActivity" | "SupportActivity",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "tags": "STRING[]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "initiator": "UUIDV4",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "concernedItems": [</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "type": "string",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "id": "string"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ],</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "id": "UUIDV4",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "creationDate": "DATE",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "operationType": "read" | "write",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "state": "CompletedState | RunningState | WaitingState | FailedState"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copier le code" title=Copier class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>L'objet <strong>state</strong> peut prendre différentes formes selon l'état de l'activité, à savoir :</p>
<p><strong>waiting</strong>, état avant que l'opération n'ait commencé :</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">    waiting: {}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copier le code" title=Copier class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><strong>running</strong>, état lorsque l'opération est en cours :</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">    running: {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    status: string;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    startDate: Date;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    progression: number;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    };</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copier le code" title=Copier class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><strong>failed</strong>, état si l'opération a échoué :</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">    failed: {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    startDate: Date;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    stopDate: Date;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    reason: string;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    };</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copier le code" title=Copier class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><strong>completed</strong>, état si l'opération est terminée :</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">    completed: {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    startDate: Date;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    stopDate: Date;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    result: string;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    };</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copier le code" title=Copier class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><strong>Nota: l'Identifiant (UUIDv4) de la ressource créée est disponible dans le résultat de l'activité une fois celle-ci complétée.</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=limites-api>Limites API<a href=#limites-api class=hash-link aria-label="Lien direct vers Limites API" title="Lien direct vers Limites API">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=pourquoi-des-limites->Pourquoi des limites ?<a href=#pourquoi-des-limites- class=hash-link aria-label="Lien direct vers Pourquoi des limites ?" title="Lien direct vers Pourquoi des limites ?">​</a></h3>
<p>La console Cloud Temple définit <strong>des plafonds sur le volume de requêtes</strong> qu'un utilisateur peut adresser
à l'API sur une durée déterminée. L'instauration de ces plafonds de fréquence est une mesure courante dans la gestion des API, adoptée pour plusieurs motifs essentiels :</p>
<ul>
<li><strong>Prévention des abus</strong> : Ces limites contribuent à la sauvegarde de l'intégrité de l'API en prévenant les usages
abusifs ou maladroits susceptibles de compromettre son fonctionnement.</li>
<li><strong>Assurance de la qualité de service</strong> : En régulant l'accès à l'API, nous veillons à une distribution équitable
des ressources, permettant ainsi à tous les utilisateurs de bénéficier d'une expérience stable et performante.</li>
</ul>
<p>Prenons l'exemple d'un script mal conçu ou inefficace qui tente des appels répétitifs à l'API,
risquant de saturer les ressources et de dégrader les performances. En établissant des seuils de requêtes,
nous prévenons ces situations et assurons le maintien d'<strong>un service fluide et sans interruption</strong> pour l'ensemble de notre clientèle.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=quelles-sont-les-limites-de-taux-pour-lapi-de-la-console-cloud-temple->Quelles sont les limites de taux pour l'API de la console Cloud Temple ?<a href=#quelles-sont-les-limites-de-taux-pour-lapi-de-la-console-cloud-temple- class=hash-link aria-label="Lien direct vers Quelles sont les limites de taux pour l'API de la console Cloud Temple ?" title="Lien direct vers Quelles sont les limites de taux pour l'API de la console Cloud Temple ?">​</a></h3>
<p>Nous appliquons des restrictions quantitatives sur les interactions des utilisateurs avec la console
pour chaque produit.</p>
<p>Les limites sont définies en <strong>requêtes par secondes (r/s) et par IP source</strong>. Au-delà du seuil limite, le système répondra
par un code d'erreur HTTP 429, signalant que la limite de requêtes autorisées a été dépassée.</p>
<p>Voici les limites définies :</p>
<table><thead><tr><th>Produit<th>Seuil limite<tbody><tr><td>Console Cloud Temple<td>60 r/s<tr><td>Identité (IAM)<td>60 r/s<tr><td>IaaS - Calcul<td>60 r/s<tr><td>IaaS - Stockage<td>20 r/s<tr><td>IaaS - Sauvegarde<td>60 r/s<tr><td>PaaS - S3<td>60 r/s<tr><td>PaaS - Openshift<td>60 r/s<tr><td>Réseau<td>60 r/s<tr><td>Hébergement<td>60 r/s</table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=comment-fonctionnent-les-limites-de-taux->Comment fonctionnent les limites de taux ?<a href=#comment-fonctionnent-les-limites-de-taux- class=hash-link aria-label="Lien direct vers Comment fonctionnent les limites de taux ?" title="Lien direct vers Comment fonctionnent les limites de taux ?">​</a></h3>
<p>Si le nombre de requêtes envoyées à un point d'API excède la limite autorisée, le point d'API réagira en retournant
<strong>un code de réponse HTTP 429</strong>. Ce code indique que l'utilisateur a dépassé le nombre de requêtes permises.
Lorsque cela se produit, le point d'API fournira également un objet JSON en guise de réponse,
lequel contiendra des informations détaillées sur la limitation appliquée :</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "error": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "status": "429 Too Many Requests",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "message": "Too Many Requests"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copier le code" title=Copier class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=comment-éviter-deffectuer-trop-de-requêtes->Comment éviter d'effectuer trop de requêtes ?<a href=#comment-éviter-deffectuer-trop-de-requêtes- class=hash-link aria-label="Lien direct vers Comment éviter d'effectuer trop de requêtes ?" title="Lien direct vers Comment éviter d'effectuer trop de requêtes ?">​</a></h3>
<p>Il est recommandé de limiter le nombre d'appels d'API effectués par votre automatisation afin de rester en deçà
de la limite de taux fixée pour le point de terminaison.</p>
<p>Cette situation survient souvent lorsque plusieurs requêtes sont exécutées en parallèle,
à l'aide de plusieurs processus ou threads.</p>
<p>Il existe plusieurs moyens d'améliorer l'efficacité de votre automatisation, notamment en utilisant des mécanismes
de <strong>mise en cache</strong> et en mettant en place <strong>un système de rejeu avec atténuation progressive</strong>. Cette méthode consiste
à effectuer une courte pause lorsqu'une erreur de limite de taux est rencontrée, puis à réessayer la requête.
Si la requête échoue à nouveau, la durée de la pause est augmentée progressivement jusqu'à ce que la requête réussisse
ou jusqu'à ce qu'un nombre maximum de réessais soit atteint.</p>
<p>Cette approche présente de nombreux avantages :</p>
<ul>
<li><strong>L'atténuation progressive</strong> garantit que les premieres tentatives sont jouées rapidement, tout en prévoyant des délais plus longs en cas d'échec répété.</li>
<li>L'ajout d'<strong>une variation aléatoire</strong> à la pause contribue à éviter que toutes les tentatives ne se produisent simultanément.</li>
</ul>
<p>Il est important de noter que <strong>les requêtes infructueuses n'affectent pas votre limite de taux</strong>.
Cependant, renvoyer continuellement une requête pourrait ne pas être une solution viable à long terme,
car ce comportement pourrait être modifié à l'avenir. Nous vous recommandons donc de ne pas dépendre exclusivement de ce mécanisme.</p>
<p>Les bibliothèques <strong><a href=https://pypi.org/project/backoff/ target=_blank rel="noopener noreferrer">Backoff</a></strong> et <strong><a href=https://pypi.org/project/tenacity/ target=_blank rel="noopener noreferrer">Tenacity</a></strong> en Python
sont des bons points de départ pour implémenter des stratégies d'attenuation.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/aelttil/docs-content/docs/console/api.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Éditer cette page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pages de documentation"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs-content/docs/console/accounts/><div class=pagination-nav__sublabel>Précédent</div><div class=pagination-nav__label>Comptes d'accès à la console Shiva</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs-content/docs/console/><div class=pagination-nav__sublabel>Suivant</div><div class=pagination-nav__label>Présentation de la console</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#clés-api class="table-of-contents__link toc-highlight">Clés API</a><li><a href=#accès-au-portail-api class="table-of-contents__link toc-highlight">Accès au portail API</a><li><a href=#les-activités class="table-of-contents__link toc-highlight">Les activités</a><li><a href=#limites-api class="table-of-contents__link toc-highlight">Limites API</a><ul><li><a href=#pourquoi-des-limites- class="table-of-contents__link toc-highlight">Pourquoi des limites ?</a><li><a href=#quelles-sont-les-limites-de-taux-pour-lapi-de-la-console-cloud-temple- class="table-of-contents__link toc-highlight">Quelles sont les limites de taux pour l'API de la console Cloud Temple ?</a><li><a href=#comment-fonctionnent-les-limites-de-taux- class="table-of-contents__link toc-highlight">Comment fonctionnent les limites de taux ?</a><li><a href=#comment-éviter-deffectuer-trop-de-requêtes- class="table-of-contents__link toc-highlight">Comment éviter d'effectuer trop de requêtes ?</a></ul></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Docs</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/docs-content/docs/home/>Tutorial</a></ul></div><div class="col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.linkedin.com/company/cloud-temple/ target=_blank rel="noopener noreferrer" class=footer__link-item>Linkedin<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://github.com/cloud-temple target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>